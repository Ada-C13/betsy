<div class="container mt-5 dashboard">
  <%= render partial: 'infocard' %>
  <section class='order_list'>
    <h2 class="mt-5"> Order list:</h2>
    <p>Total Pending & Paid Order Revenue: </p>
    <p>Total Pending & Paid Order Count: <%= @merchant.find_all_order_items("Pending").count %></p>
    <table class="table">
    <div class="filter-group float-right"> 
      <span class="input-group-addon font-weight-bold">Filter by Status  </span>
      <select id="filter" class="check_boxes" >
        <option selected>Show All</option>
        <option value="1">Pending</option>
        <option value="2">Paid</option>
      </select>
    </div>
      <thead class="thead-light">
      </thead>
        <tr>
          <th scope="col">Order ID</th>
          <th scope="col">Order Date</th>
          <th scope="col">Product</th>
          <th scope="col">Item image</th>
          <th scope="col">Item price</th>
          <th scope="col">Qty</th>
          <th scope="col">Revenue</th>
          <th scope="col">Order Status</th>
        </tr>
      <%= render partial: 'orders/list', locals: { merchant_orders: @merchant.find_all_order_items("Pending")}%>
    </table>
    <section class='order_list'>
    <h2 class="mt-5"> Order History:</h2>
    <p>Total Completed Order Revenue: </p>
    <p>Total Completed Order Count: <%= @merchant.find_all_order_items("Completed").count %></p>
    <table class="table">
    <div class="filter-group float-right"> 
      <span class="input-group-addon font-weight-bold">Filter by Status  </span>
      <select id="filter" class="check_boxes" >
        <option selected>Show All</option>
        <option value="3">Complete</option>
        <option value="4">Cancelled</option>
      </select>
    </div>
      <thead class="thead-light">
        <tr>
          <th scope="col">Order ID</th>
          <th scope="col">Order Date</th>
          <th scope="col">Product</th>
          <th scope="col">Item image</th>
          <th scope="col">Item price</th>
          <th scope="col">Qty</th>
          <th scope="col">Revenue</th>
          <th scope="col">Cancel Order</th>
          <th scope="col">Mark Shipped/Complete</th>
        </tr>
      </thead>
      <%= render partial: 'orders/list', locals: { merchant_orders: @merchant.find_all_order_items("Completed")}%>
    </table>
    <section class='product_list'>
    <h2 > Item list:</h2>
    <%# refernce from https://forum.upcase.com/t/how-to-implement-filtering-for-my-rails-app/2834 %>
      <div class="filter-group filter-order float-right"> 
        <%= form_tag(dashboard_path, :method => "get") do %>
          <span class="input-group-addon font-weight-bold">Filter by Status  </span>
          <%= select_tag 'status', options_for_select(@order_status, @selected_status), {onchange: "this.form.submit();", prompt: @prompt} %>
        <% end %>
      </div>
    <table class="table">
      <thead class="thead-light">
        <tr>
          <th scope="col">Product Image</th>
          <th scope="col">Name</th>
          <th scope="col">Price</th>
          <th scope="col">Stock</th>
          <th scope="col">Rating</th>
          <th scope="col">Status</th>
          <th scope="col">Change Status</th>
          <th scope="col">Edit Product</th>
        </tr>
      </thead>
      <%= render partial: 'products/list' %>
    </table>
    </div>
  </section>
    </div>
  </section>
</div>
